<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chương II: Vật dẫn - Điện môi</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel for JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <!-- MathJax for LaTeX rendering -->
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true
            },
            svg: {
                fontCache: 'global'
            },
            startup: {
                typeset: false // We will trigger manually in React
            }
            
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8fafc;
        }
        .math-display {
            overflow-x: auto;
            padding: 8px 0;
            max-width: 100%;
        }
        .math-display::-webkit-scrollbar {
            height: 6px;
        }
        .math-display::-webkit-scrollbar-thumb {
            background-color: #cbd5e1;
            border-radius: 4px;
        }
        .solution-content {
            white-space: pre-line;
        }
        .image-request {
            color: #10b981; /* Màu xanh lá nổi bật */
            font-style: italic;
            font-weight: 500;
            margin-top: 8px;
            display: block;
            padding: 4px;
            border-left: 3px solid #10b981;
            background-color: #ecfdf5;
        }
        .phone-link {
            background-color: #25D366; /* WhatsApp Green / Vibrant Green */
            color: white;
        }
        .phone-link:hover {
            background-color: #128C7E;
        }

        .instagram-link {
            background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888);
            color: white;
            box-shadow: 0 4px 10px rgba(220, 39, 67, 0.4); /* Shadow hồng nhẹ */
        }
        .instagram-link:hover {
            opacity: 0.9;
        }

        .facebook-link {
            background-color: #1877F2; /* Facebook Blue */
            color: white;
        }
        .facebook-link:hover {
            background-color: #166FE5;
        }
        .logo-container {
    position: fixed; /* Rất quan trọng: định vị tuyệt đối */
    top: 0;             /* Đặt ở mép trên */
    left: 0;            /* Đặt ở mép trái */
    width: 150px;       /* Chiều rộng */
    height: 150px;      /* Chiều cao */
    z-index: 1000;      /* Đảm bảo logo luôn nằm trên cùng */
}

.logo-container img {
    width: 100%;
    height: 100%;
    object-fit: contain; /* Giữ tỷ lệ ảnh */
}
    </style>
</head>
<body>
    <div class="logo-container">
    <img src="https://upload.wikimedia.org/wikipedia/vi/0/0e/Logo_MTA_new.png" alt="Logo MTA">
</div>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- DỮ LIỆU LÝ THUYẾT (Full từ PDF 1) ---
        const theoryData = [
            {
                id: 1,
                title: "1. Điện dung của vật dẫn và tụ điện",
                content: [
                    {
                        subtitle: "a. Công thức định nghĩa chung",
                        text: "Điện dung đặc trưng cho khả năng tích điện của vật dẫn.",
                        formula: "$$C = \\frac{Q}{U}$$",
                        notes: "Trong đó: $C$ là điện dung (F), $Q$ là điện tích (C), $U$ là hiệu điện thế (V).",
                        example: "**Ví dụ 1:** Một tụ điện được tích điện lượng $Q=2.10^{-6}C$ dưới hiệu điện thế $U=100V$. Tính điện dung.\n**Giải:** $C = \\frac{2.10^{-6}}{100} = 2.10^{-8} (F) = 0,02 (\\mu F)$."
                    },
                    {
                        subtitle: "b. Các loại tụ điện đặc biệt",
                        items: [
                            {
                                name: "Tụ điện phẳng",
                                desc: "S: diện tích đối diện ($m^2$), d: khoảng cách 2 bản (m).",
                                formula: "$$C = \\frac{\\epsilon_0 \\epsilon S}{d}$$",
                                detail: "Với $\\epsilon_0 \\approx 8,85.10^{-12} F/m$.",
                                example: "**Ví dụ 2:** Tụ phẳng không khí ($\epsilon=1$), $S=200cm^2=0,02m^2$, $d=2mm=0,002m$.\n**Giải:** $C = \\frac{8,85.10^{-12}.1.0,02}{0,002} = 8,85.10^{-11} (F) = 88,5 (pF)$."
                            },
                            {
                                name: "Tụ cầu (cô lập)",
                                desc: "Quả cầu kim loại bán kính R.",
                                formula: "$$C = 4\\pi \\epsilon_0 \\epsilon R = \\frac{R}{k}$$",
                                example: "**Ví dụ 3:** Quả cầu bán kính $R=9cm$ trong không khí ($k=9.10^9$).\n**Giải:** $C = \\frac{0,09}{9.10^9} = 10^{-11} (F) = 10 (pF)$."
                            },
                            {
                                name: "Tụ trụ",
                                desc: "Trụ dài h, bán kính trong $R_1$, ngoài $R_2$.",
                                formula: "$$C = \\frac{2\\pi \\epsilon_0 \\epsilon h}{\\ln(R_2/R_1)}$$",
                                example: "**Ví dụ 4:** $h=0,5m$, $R_1=2cm$, $R_2=4cm$, không khí.\n**Giải:** $C = \\frac{2\\pi.8,85.10^{-12}.0,5}{\\ln(2)} \\approx 40 (pF)$."
                            }
                        ]
                    }
                ]
            },
            {
                id: 2,
                title: "2. Ghép tụ điện",
                content: [
                    {
                        subtitle: "a. Mắc nối tiếp",
                        formula: "$$\\frac{1}{C_b} = \\sum \\frac{1}{C_i} = \\frac{1}{C_1} + \\frac{1}{C_2} + ...$$",
                        notes: "Đặc điểm: $Q = Q_1 = Q_2 = ...$ và $U = U_1 + U_2 + ...$",
                        example: "**Ví dụ 5a:** $C_1=2\\mu F, C_2=3\\mu F, C_3=6\\mu F$ nối tiếp.\n**Giải:** $\\frac{1}{C_b} = \\frac{1}{2} + \\frac{1}{3} + \\frac{1}{6} = 1 \\Rightarrow C_b = 1 (\\mu F)$."
                    },
                    {
                        subtitle: "b. Mắc song song",
                        formula: "$$C_b = \\sum C_i = C_1 + C_2 + ...$$",
                        notes: "Đặc điểm: $Q = Q_1 + Q_2 + ...$ và $U = U_1 = U_2 = ...$",
                        example: "**Ví dụ 5b:** 3 tụ trên mắc song song.\n**Giải:** $C_b = 2 + 3 + 6 = 11 (\\mu F)$."
                    }
                ]
            },
            {
                id: 3,
                title: "3. Năng lượng điện trường & Lực tương tác",
                content: [
                    {
                        subtitle: "a. Năng lượng tụ điện",
                        formula: "$$W = \\frac{QU}{2} = \\frac{CU^2}{2} = \\frac{Q^2}{2C}$$",
                        example: "**Ví dụ 6:** $C=10\\mu F, U=200V$.\n**Giải:** $W = \\frac{1}{2}.10^{-5}.(200)^2 = 0,2 (J)$."
                    },
                    {
                        subtitle: "b. Mật độ năng lượng điện trường",
                        formula: "$$w = \\frac{\\epsilon_0 \\epsilon E^2}{2}$$",
                        example: "**Ví dụ 7:** Trong không khí $E=1000V/m$.\n**Giải:** $w = \\frac{8,85.10^{-12}.1.(1000)^2}{2} \\approx 4,425.10^{-6} (J/m^3)$."
                    },
                    {
                        subtitle: "c. Lực tương tác giữa hai bản tụ phẳng",
                        formula: "$$F = \\frac{Q^2}{2\\epsilon_0 \\epsilon S} = \\frac{\\epsilon_0 \\epsilon S E^2}{2}$$",
                        example: "**Ví dụ 8:** $S=0,01m^2, E=3.10^5 V/m$.\n**Giải:** $F = \\frac{8,85.10^{-12}.0,01.(3.10^5)^2}{2} \\approx 0,004 (N)$."
                    },
                    {
                        subtitle: "d. Năng lượng quả cầu điện môi (Nâng cao)",
                        text: "Năng lượng chia thành phần bên trong và bên ngoài quả cầu.",
                        formula: "$$W_{trong} = \\frac{Q^2}{40\\pi \\epsilon_0 \\epsilon R}; \\quad W_{ngoai} = \\frac{Q^2}{8\\pi \\epsilon_0 \\epsilon R}$$",
                        example: "**Ví dụ 9:** $R=10cm, \\epsilon=2, Q=10^{-9}C$. Tính $W_{trong}$.\n**Giải:** $W_{trong} = \\frac{(10^{-9})^2}{40\\pi.8,85.10^{-12}.2.0,1} \\approx 4,5.10^{-9} (J)$."
                    }
                ]
            },
            {
                id: 4,
                title: "4. Công và vận tốc Electron (Dạng bài tập)",
                content: [
                    {
                        subtitle: "a. Đối với Tụ trụ",
                        formula: "$$A = \\frac{eU \\ln(r_A/r_B)}{\\ln(R_2/R_1)}$$",
                        example: "**Ví dụ 10:** $R_1=1cm, R_2=5cm, U=1000V$. Electron bay từ $r_A=2cm$ đến $r_B=4cm$.\n**Giải:** $A = \\frac{-1,6.10^{-19}.1000.\\ln(2/4)}{\\ln(5/1)} \\approx -6,89.10^{-17} (J)$."
                    },
                    {
                        subtitle: "b. Đối với Tụ cầu",
                        formula: "$$A = \\frac{eU R_1 R_2 (r_A - r_B)}{(R_2 - R_1) r_A r_B}$$",
                        example: "**Ví dụ 11:** $R_1=10cm, R_2=20cm, U=100V$. Electron bay từ bản trong ra bản ngoài ($r_A=R_1, r_B=R_2$).\n**Giải:** $A = -eU = 1,6.10^{-17}J$. $v = \\sqrt{2A/m} \\approx 5,9.10^6 m/s$."
                    }
                ]
            }
        ];

        // --- DỮ LIỆU BÀI TẬP (Full từ PDF 2) ---
        const exerciseData = [
            {
                id: "2-1",
                question: "Bài 2-1: Cho hai mặt cầu kim loại đồng tâm bán kính $R_1=4cm$, $R_2=2cm$ mang điện tích $Q_1=-\\frac{2}{3}.10^{-6}C$ và $Q_2=3.10^{-6}C$. Tính cường độ điện trường và điện thế tại các điểm cách tâm: 1cm, 2cm, 3cm, 4cm, 5cm.",
                summary: "Tóm tắt: $R_1=4cm (Q_1), R_2=2cm (Q_2)$. Tính E, V tại $r \\in \\{1, 2, 3, 4, 5\\}cm$.",
                solution: `
                    **Phân vùng:**
                    - Vùng I ($r < R_2$): $E=0, V=V_{R2}$ (Do $Q_{bao}=0$).
                    - Vùng II ($R_2 \\le r < R_1$): $E=k\\frac{|Q_2|}{r^2}, V = k\\frac{Q_2}{r} + k\\frac{Q_1}{R_1}$.
                    - Vùng III ($r \\ge R_1$): $E=k\\frac{|Q_1+Q_2|}{r^2}, V = k\\frac{Q_1+Q_2}{r}$.

                    **Tính toán chi tiết:**
                    1. $r=1cm$ (Vùng I): $E=0$; $V = k(\\frac{Q_2}{R_2} + \\frac{Q_1}{R_1}) = 9.10^9(\\frac{3.10^{-6}}{0,02} - \\frac{2/3.10^{-6}}{0,04}) \\approx 1,2.10^6 V$.
                    2. $r=2cm$ (Tại $R_2$): $E=0$ (trong vật dẫn); $V \\approx 1,2.10^6 V$.
                    3. $r=3cm$ (Vùng II): 
                       $E = 9.10^9 \\frac{3.10^{-6}}{0,03^2} = 30.10^6 V/m$.
                       $V = 9.10^9(\\frac{3.10^{-6}}{0,03} - \\frac{2/3.10^{-6}}{0,04}) \\approx 750.000 V$.
                    4. $r=4cm$ (Tại $R_1$): $E=0$; $V = k\\frac{Q_1+Q_2}{R_1} = 9.10^9 \\frac{7/3.10^{-6}}{0,04} \\approx 5,25.10^5 V$.
                    5. $r=5cm$ (Vùng III):
                       $E = 9.10^9 \\frac{7/3.10^{-6}}{0,05^2} \\approx 8,4.10^6 V/m$.
                       $V = k\\frac{Q_1+Q_2}{0,05} \\approx 4,2.10^5 V$.
                `
            },
            {
                id: "2-2",
                question: "Bài 2-2: Một quả cầu kim loại bán kính 10cm, điện thế 300V. Tính mật độ điện mặt của quả cầu.",
                summary: "Tóm tắt: $R=0.1m, V=300V$. Tính $\\sigma$.",
                solution: `
                    Ta có: $V = k\\frac{Q}{R} = \\frac{1}{4\\pi\\epsilon_0}\\frac{Q}{R} \\Rightarrow Q = V.4\\pi\\epsilon_0 R$.
                    Mật độ điện mặt: $\\sigma = \\frac{Q}{S} = \\frac{Q}{4\\pi R^2}$.
                    Thay $Q$ vào:
                    $$\\sigma = \\frac{V.4\\pi\\epsilon_0 R}{4\\pi R^2} = \\frac{\\epsilon_0 V}{R}$$
                    Thay số: $\\sigma = \\frac{8,85.10^{-12} . 300}{0,1} \\approx 2,66.10^{-8} (C/m^2)$.
                `
            },
            {
                id: "2-4",
                question: "Bài 2-4: Hai quả cầu kim loại $R=1cm, m=4.10^{-6}kg$ treo bằng hai dây dẫn tiếp xúc nhau. Truyền điện tích, chúng đẩy nhau, dây lệch góc $\\alpha$, lực căng dây $T=4,9.10^{-5}N$. Khoảng cách treo đến tâm $l=10cm$. Tính điện thế các quả cầu.",
                summary: "Tóm tắt: $R=1cm, m=4mg, T=4,9.10^{-5}N, l=10cm$. Tính V.",
                solution: `
                    **1. Tìm góc lệch và lực đẩy:**
                    $P = mg = 4.10^{-6}.9,8 = 3,92.10^{-5}N$.
                    $\\cos\\alpha = P/T = 0,8 \\Rightarrow \\sin\\alpha = 0,6$.
                    Lực đẩy $F = T\\sin\\alpha = 4,9.10^{-5}.0,6 = 2,94.10^{-5}N$.

                    **2. Tìm khoảng cách d và điện tích Q:**
                    Khoảng cách từ tâm đến trục: $x = l\\sin\\alpha = 0,1.0,6 = 0,06m$.
                    Khoảng cách 2 quả cầu: $d = 2x = 0,12m$.
                    Lực Coulomb: $F = k\\frac{Q^2}{d^2} \\Rightarrow Q = \\sqrt{\\frac{F.d^2}{k}} \\approx 2,17.10^{-9}C$.

                    **3. Tính điện thế V:**
                    $V = k\\frac{Q}{R} = 9.10^9.\\frac{2,17.10^{-9}}{0,01} \\approx 1952 (V)$.
                `
            },
            {
                id: "2-5",
                question: "Bài 2-5: Hai quả cầu kim loại bán kính 8cm và 5cm nối với nhau bằng dây dẫn, tích điện lượng tổng $Q=13.10^{-8}C$. Tính điện tích mỗi quả cầu.",
                summary: "Tóm tắt: $R_1=8cm, R_2=5cm, Q=13.10^{-8}C$. $V_1=V_2$. Tính $Q_1, Q_2$.",
                solution: `
                    Nối dây dẫn $\\Rightarrow V_1 = V_2 \\Rightarrow k\\frac{Q_1}{R_1} = k\\frac{Q_2}{R_2}$.
                    $\\Rightarrow Q_1 = \\frac{R_1}{R_2}Q_2 = 1,6 Q_2$.
                    Hệ phương trình:
                    $\\begin{cases} Q_1 = 1,6 Q_2 \\\\ Q_1 + Q_2 = 13.10^{-8} \\end{cases} \\Rightarrow 2,6 Q_2 = 13.10^{-8}$.
                    $\\Rightarrow Q_2 = 5.10^{-8} C; \\quad Q_1 = 8.10^{-8} C$.
                    Điện thế chung: $V = k\\frac{Q_1}{R_1} = 9000V$.
                `
            },
            {
                id: "2-6",
                question: "Bài 2-6: Tại tâm quả cầu rỗng cô lập kim loại có điện tích q. Treo điện tích q' ở ngoài, nó có bị lệch không? Nếu nối đất quả cầu thì sao?",
                summary: "Lý thuyết về hưởng ứng tĩnh điện và màn chắn điện.",
                solution: `
                    **1. Quả cầu cô lập:**
                    Điện tích q ở tâm gây ra cảm ứng: mặt trong -q, mặt ngoài +q.
                    Điện trường bên ngoài giống như do điện tích điểm +q tại tâm gây ra.
                    $\\Rightarrow$ Có điện trường $E$ tác dụng lên q'.
                    **Kết luận:** q' bị lệch.

                    **2. Quả cầu nối đất:**
                    Điện thế quả cầu $V=0$. Điện tích cảm ứng mặt ngoài +q chạy xuống đất $\\Rightarrow$ Mặt ngoài trung hòa điện.
                    Điện trường bên ngoài $E=0$ (Tác dụng màn chắn tĩnh điện).
                    **Kết luận:** q' không bị lệch.
                `
            },
            {
                id: "2-7",
                question: "Bài 2-7: Đặt điện tích q cách tấm kim loại nối đất một đoạn a. Tính mật độ điện mặt tại: a) Điểm cách q đoạn a (hình chiếu). b) Điểm cách q đoạn r (r>a).",
                summary: "Phương pháp ảnh điện: coi như có điện tích -q ở vị trí đối xứng qua tấm.",
                solution: `
                    Sử dụng phương pháp ảnh điện: Điện trường tại điểm M trên mặt tấm là tổng hợp của q và ảnh -q.
                    Thành phần pháp tuyến: $E_n = 2E_q \\cos\\theta = 2k\\frac{q}{r^2}\\frac{a}{r} = \\frac{2kqa}{r^3}$.
                    Mật độ điện mặt: $\\sigma = \\epsilon_0 E_n$ (với dấu âm do cảm ứng trái dấu).
                    
                    **a) Tại điểm cách q đoạn a (chân đường vuông góc):**
                    $r=a \\Rightarrow \\sigma = -\\epsilon_0 \\frac{2kqa}{a^3} = -\\epsilon_0 \\frac{2a q}{4\\pi\\epsilon_0 a^3} = -\\frac{q}{2\\pi a^2}$.

                    **b) Tại điểm cách q đoạn r:**
                    $\\sigma = -\\frac{qa}{2\\pi r^3}$.
                `
            },
            {
                id: "2-8",
                question: "Bài 2-8: Quả cầu $R=1m, q=10^{-6}C$. Tính điện dung, điện thế và năng lượng.",
                summary: "Áp dụng công thức cơ bản cho quả cầu cô lập.",
                solution: `
                    1. Điện dung: $C = 4\\pi\\epsilon_0 R = \\frac{1}{9.10^9}.1 \\approx 1,11.10^{-10} F$.
                    2. Điện thế: $V = k\\frac{q}{R} = 9.10^9.\\frac{10^{-6}}{1} = 9000 V$.
                    3. Năng lượng: $W = \\frac{1}{2}qV = \\frac{1}{2}.10^{-6}.9000 = 4,5.10^{-3} J$.
                `
            },
            {
                id: "2-11",
                question: "Bài 2-11: Tụ điện cầu $r=1cm, R=4cm$, hiệu điện thế 3000V. Tính cường độ điện trường tại điểm cách tâm 3cm.",
                summary: "Tụ cầu: $r_1=1cm, r_2=4cm, U=3000V$. Tính E tại $r=3cm$.",
                solution: `
                    Điện tích của tụ cầu: $Q = \\frac{U}{k(\\frac{1}{r_1} - \\frac{1}{r_2})} = \\frac{3000}{9.10^9(100 - 25)} \\approx 4,44.10^{-9} C$.
                    
                    Cường độ điện trường tại $r=3cm$ (trong khoảng 2 bản):
                    $E = k\\frac{Q}{r^2} = 9.10^9 \\frac{4,44.10^{-9}}{0,03^2} \\approx 4,44.10^4 V/m$.
                `
            },
            {
                id: "2-14",
                question: "Bài 2-14: Tính $C_{td}$ của 3 tụ $C=0,5\\mu F$ khi: 1. Mắc nối tiếp. 2. Mắc song song.",
                summary: "Bài tập ghép tụ cơ bản.",
                solution: `
                    1. Nối tiếp: $\\frac{1}{C_{nt}} = \\frac{3}{C} \\Rightarrow C_{nt} = \\frac{C}{3} = \\frac{0,5}{3} \\approx 0,167 \\mu F$.
                    2. Song song: $C_{ss} = 3C = 1,5 \\mu F$.
                `
            },
            {
                id: "2-15",
                question: "Bài 2-15: Hai tụ $C_1=2\\mu F, C_2=4\\mu F$ mắc nối tiếp, $U=6V$. Tính U, Q mỗi tụ.",
                summary: "Ghép nối tiếp phân chia hiệu điện thế.",
                solution: `
                    1. $C_b = \\frac{C_1 C_2}{C_1+C_2} = \\frac{2.4}{6} = \\frac{4}{3} \\mu F$.
                    2. $Q = C_b.U = \\frac{4}{3}.6 = 8 \\mu C$. (Nối tiếp nên $Q_1=Q_2=Q$).
                    3. $U_1 = Q/C_1 = 4V$; $U_2 = Q/C_2 = 2V$.
                `
            },
            {
                id: "2-16",
                question: "Bài 2-16: Chứng minh điều kiện cân bằng của cầu điện dung: $C_1/C_2 = C_3/C_4$ để hai cách mắc (Hình 2-6 và 2-7) có cùng điện dung tương đương.",
                summary: "So sánh $C_{td}$ của mạch cầu cân bằng.",
                solution: `
                    Khi $\\frac{C_1}{C_2} = \\frac{C_3}{C_4} = k$:
                    - Cách 1: $(C_1 nt C_2) // (C_3 nt C_4) \\Rightarrow C_{td} = \\frac{k}{k+1}(C_2+C_4)$.
                    - Cách 2: $(C_1 // C_3) nt (C_2 // C_4) \\Rightarrow C_{td} = \\frac{k}{k+1}(C_2+C_4)$.
                    Hai kết quả bằng nhau $\\Rightarrow$ Điều phải chứng minh.
                `
            },
            {
                id: "2-17",
                question: "Bài 2-17: $C_1=20\\mu F, U_1=100V$. Nối song song với $C_2$ ($U_2=40V$) thì $U=80V$. Tính $C_2$.",
                summary: "Bảo toàn điện tích khi ghép tụ song song.",
                solution: `
                    Tổng điện tích trước: $Q_{tong} = C_1 U_1 + C_2 U_2 = 2000 + 40C_2 (\\mu C)$.
                    Tổng điện tích sau: $Q'_{tong} = (C_1 + C_2)U = (20 + C_2)80 = 1600 + 80C_2$.
                    Bảo toàn: $2000 + 40C_2 = 1600 + 80C_2$.
                    $\\Rightarrow 400 = 40C_2 \\Rightarrow C_2 = 10 \\mu F$.
                `
            },
            {
                id: "2-18",
                question: "Bài 2-18: Tụ $C=2\\mu F$ tích điện $q=10^{-4}C$. Nối tắt 2 bản. Tính nhiệt lượng tỏa ra và U ban đầu.",
                summary: "Phóng điện tụ điện.",
                solution: `
                    1. Hiệu điện thế đầu: $U = q/C = 10^{-4}/2.10^{-6} = 50V$.
                    2. Nhiệt lượng = Năng lượng tụ dự trữ:
                       $Q_{nhiet} = W = \\frac{1}{2}qU = \\frac{1}{2}.10^{-4}.50 = 2,5.10^{-3} J$.
                `
            },
            {
                id: "2-19",
                question: "Bài 2-19: Hai tụ $C_1=2\\mu F, U_1=100V$ và $C_2=0,5\\mu F, U_2=-50V$ (do ngược chiều). Nối các bản tích điện. Tính nhiệt lượng tỏa ra.",
                summary: "Chuyển hóa năng lượng khi ghép tụ có chênh lệch thế.",
                solution: `
                    Năng lượng trước: $W_{tr} = \\frac{1}{2}C_1 U_1^2 + \\frac{1}{2}C_2 U_2^2 = 10^{-2} + 0,0625.10^{-2} = 1,0625.10^{-2} J$.
                    Bảo toàn điện tích: $Q_{sau} = Q_1 + Q_2 = C_1 U_1 + C_2 U_2 = 200 - 25 = 175 \\mu C$.
                    Điện dung tương đương: $C_b = C_1 + C_2 = 2,5 \\mu F$.
                    Năng lượng sau: $W_{sau} = \\frac{Q_{sau}^2}{2C_b} = \\frac{(175.10^{-6})^2}{2.2,5.10^{-6}} \\approx 0,6125.10^{-2} J$.
                    Nhiệt lượng tỏa ra: $\\Delta W = W_{tr} - W_{sau} = 4,5.10^{-3} J$.
                `
            },
            {
                id: "3-1",
                question: "Bài 3-1: Xác định mật độ điện tích liên kết $\\sigma'$ trên tấm Mica đặt trong tụ phẳng $U=300V$, $d=4mm$.",
                summary: "Tính $\\sigma'$. Giả sử $\\epsilon_{mica}=6$ (chuẩn).",
                solution: `
                    Điện trường: $E = U/d = 300/0,004 = 75000 V/m$.
                    Độ điện dịch: $D = \\epsilon_0 \\epsilon E$.
                    Mật độ điện tích liên kết: $\\sigma' = \\sigma \\frac{\\epsilon-1}{\\epsilon} = \\epsilon_0 E (\\epsilon-1)$.
                    $\\sigma' = 8,85.10^{-12} . 75000 . (6-1) \\approx 3,32.10^{-6} C/m^2$.
                `
            },
            {
                id: "3-3",
                question: "Bài 3-3: Tụ phẳng $\\epsilon=6, d=2mm, U=1200V$. Tính E, $\\sigma$, $\\sigma'$.",
                summary: "Bài toán cơ bản về điện môi.",
                solution: `
                    1. $E = U/d = 6.10^5 V/m$.
                    2. $\\sigma = \\epsilon_0 \\epsilon E = 8,85.10^{-12}.6.6.10^5 \\approx 3,18.10^{-5} C/m^2$.
                    3. $\\sigma' = \\sigma \\frac{\\epsilon-1}{\\epsilon} \\approx 2,65.10^{-5} C/m^2$.
                `
            },
            {
                id: "3-4",
                question: "Bài 3-4: Tụ không khí được tích điện $U=300V$, ngắt nguồn rồi lấp đầy điện môi $\\epsilon=4$. Tính $U_{moi}$ và điện tích mỗi bản.",
                summary: "Ngắt nguồn $\\Rightarrow$ Q bảo toàn.",
                solution: `
                    1. Điện tích bảo toàn: $Q = C_0 U = Q'$.
                    2. Điện dung tăng $\\epsilon$ lần: $C' = \\epsilon C_0$.
                    3. Hiệu điện thế mới: $U' = Q'/C' = Q/(\\epsilon C_0) = U/\\epsilon = 300/4 = 75V$.
                `
            },
            {
                id: "3-5",
                question: "Bài 3-5: Tụ phẳng khoảng cách $d=1cm$, đổ đầy dầu $\\epsilon=4$. Cần đặt U bao nhiêu để $\\sigma' = 5,31.10^{-9}C/m^2$.",
                summary: "Tính ngược từ $\\sigma'$ ra U.",
                solution: `
                    Ta có $\\sigma' = \\epsilon_0 E (\\epsilon-1) \\Rightarrow E = \\frac{\\sigma'}{\\epsilon_0(\\epsilon-1)}$.
                    $E = \\frac{5,31.10^{-9}}{8,85.10^{-12}.3} \\approx 200 V/m$.
                    $U = E.d = 200 . 0,01 = 2 V$.
                `
            },
            {
                id: "3-8",
                question: "Bài 3-8: Tụ phẳng $d$, đặt tấm điện môi dày $d_1$ ($\epsilon$) song song các bản. Tính điện dung.",
                summary: "Coi như 2 tụ nối tiếp (1 tụ không khí $d-d_1$ và 1 tụ điện môi $d_1$).",
                solution: `
                    $C_1$ (điện môi $d_1$): $C_1 = \\frac{\\epsilon_0 \\epsilon S}{d_1}$.
                    $C_2$ (không khí $d-d_1$): $C_2 = \\frac{\\epsilon_0 S}{d-d_1}$.
                    Ghép nối tiếp: $\\frac{1}{C} = \\frac{1}{C_1} + \\frac{1}{C_2} = \\frac{d_1}{\\epsilon_0 \\epsilon S} + \\frac{d-d_1}{\\epsilon_0 S}$.
                    $C = \\frac{\\epsilon_0 S}{d - d_1 + d_1/\\epsilon}$.
                `
            },
            {
                id: "3-10",
                question: "Bài 3-10: Quả cầu bán kính R tích điện đều theo thể tích. Tính năng lượng bên trong, bên ngoài và khi chia đôi.",
                summary: "Bài toán năng lượng điện trường nâng cao.",
                solution: `
                    1. Bên trong: $W_{trong} = \\frac{1}{4\\pi\\epsilon_0 \\epsilon} \\frac{Q^2}{10R}$.
                    2. Bên ngoài: $W_{ngoai} = \\frac{1}{4\\pi\\epsilon_0 \\epsilon} \\frac{Q^2}{2R}$.
                    Tổng năng lượng: $W = \\frac{3}{5} \\frac{Q^2}{4\\pi\\epsilon_0 \\epsilon R}$.
                `
            }
        ];

        // --- COMPONENTS ---

        const MathJaxRenderer = ({ content }) => {
            const containerRef = useRef(null);

            useEffect(() => {
                if (window.MathJax && window.MathJax.typesetPromise && containerRef.current) {
                    containerRef.current.innerHTML = content;
                    window.MathJax.typesetPromise([containerRef.current]).catch((err) => console.log(err));
                } else {
                    containerRef.current.innerHTML = content;
                }
            }, [content]);

            return <div ref={containerRef} className="text-gray-800 leading-relaxed math-display" />;
        };

        const TheorySection = ({ data }) => {
            return (
                <div className="bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6 hover:shadow-md transition-shadow">
                    <h3 className="text-xl font-bold text-blue-700 mb-4 flex items-center gap-2">
                        <i data-lucide="book-open" className="w-6 h-6"></i>
                        {data.title}
                    </h3>
                    <div className="space-y-6">
                        {data.content.map((item, idx) => (
                            <div key={idx} className="border-l-4 border-blue-100 pl-4 py-1">
                                <h4 className="font-semibold text-gray-800 text-lg mb-2">{item.subtitle}</h4>
                                {item.text && <p className="text-gray-600 mb-2">{item.text}</p>}
                                
                                {item.formula && (
                                    <div className="bg-gray-50 p-4 rounded-lg my-3 border border-gray-100 overflow-x-auto shadow-inner">
                                        <MathJaxRenderer content={item.formula} />
                                    </div>
                                )}

                                {item.example && (
                                    <div className="bg-yellow-50 p-3 rounded-lg border border-yellow-100 text-sm text-gray-700 mt-2">
                                        <MathJaxRenderer content={item.example} />
                                    </div>
                                )}
                                
                                {item.items && (
                                    <div className="grid md:grid-cols-2 gap-4 mt-3">
                                        {item.items.map((sub, sIdx) => (
                                            <div key={sIdx} className="bg-blue-50/50 p-4 rounded-lg border border-blue-100">
                                                <div className="font-bold text-blue-800 mb-1">{sub.name}</div>
                                                <div className="text-sm text-gray-600 mb-2">{sub.desc}</div>
                                                <MathJaxRenderer content={sub.formula} />
                                                {sub.detail && <div className="mt-2 text-xs text-gray-500 italic"><MathJaxRenderer content={sub.detail} /></div>}
                                                {sub.example && (
                                                    <div className="mt-3 pt-3 border-t border-blue-200 text-xs bg-white/50 p-2 rounded">
                                                        <MathJaxRenderer content={sub.example} />
                                                    </div>
                                                )}
                                            </div>
                                        ))}
                                    </div>
                                )}
                                
                                {item.notes && <div className="text-sm text-gray-500 italic mt-2"><MathJaxRenderer content={item.notes} /></div>}
                            </div>
                        ))}
                    </div>
                </div>
            );
        };

        const ExerciseCard = ({ data }) => {
            const [showAnswer, setShowAnswer] = useState(false);

            return (
                <div className="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-6 transition-all hover:shadow-md">
                    <div className="p-6">
                        <div className="flex justify-between items-start mb-4">
                            <span className="bg-indigo-100 text-indigo-800 text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wide">
                                Bài tập
                            </span>
                            <span className="text-gray-400 text-sm font-mono font-bold">{data.id}</span>
                        </div>
                        
                        <div className="mb-4 text-gray-800 font-medium">
                            <MathJaxRenderer content={data.question} />
                        </div>

                        {data.summary && (
                            <div className="bg-amber-50 text-amber-900 text-sm p-3 rounded-md mb-4 border border-amber-100">
                                <div className="font-semibold text-amber-700 mb-1">Tóm tắt:</div>
                                <MathJaxRenderer content={data.summary} />
                            </div>
                        )}

                        <button 
                            onClick={() => setShowAnswer(!showAnswer)}
                            className={`w-full py-2 px-4 rounded-lg flex items-center justify-center gap-2 transition-all font-medium ${
                                showAnswer 
                                ? 'bg-gray-100 text-gray-600 hover:bg-gray-200' 
                                : 'bg-blue-600 text-white hover:bg-blue-700 shadow-md hover:shadow-lg'
                            }`}
                        >
                            {showAnswer ? (
                                <>
                                    <i data-lucide="eye-off" className="w-4 h-4"></i> Ẩn đáp án
                                </>
                            ) : (
                                <>
                                    <i data-lucide="eye" className="w-4 h-4"></i> Xem đáp án chi tiết
                                </>
                            )}
                        </button>
                    </div>

                    {showAnswer && (
                        <div className="bg-green-50 border-t border-green-100 p-6 animate-fade-in">
                            <h4 className="font-bold text-green-800 mb-3 flex items-center gap-2 border-b border-green-200 pb-2">
                                <i data-lucide="check-circle-2" className="w-5 h-5"></i> Lời giải:
                            </h4>
                            <div className="solution-content text-gray-800">
                                <MathJaxRenderer content={data.solution} />
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const App = () => {
            const [activeTab, setActiveTab] = useState('theory');

            useEffect(() => {
                lucide.createIcons();
            }, [activeTab]);

            return (
                <div className="min-h-screen pb-12 bg-slate-50">
                    {/* Header */}
                    <header className="bg-gradient-to-r from-blue-800 to-indigo-900 text-white shadow-xl sticky top-0 z-50">
                        <div className="container mx-auto px-4 py-6">
                            <h1 className="text-2xl md:text-4xl font-bold text-center mb-2">
                                Chương II: Vật Dẫn - Điện Môi
                            </h1>
                            <p className="text-center text-blue-200 text-sm font-medium tracking-wide opacity-90">TỔNG HỢP KIẾN THỨC & GIẢI BÀI TẬP CHI TIẾT</p>
                        </div>
                        
                        {/* Tab Navigation */}
                        <div className="flex max-w-3xl mx-auto mt-2 px-4 space-x-2">
                            <button
                                onClick={() => setActiveTab('theory')}
                                className={`flex-1 py-3 text-center font-bold text-sm md:text-base rounded-t-xl transition-all flex items-center justify-center gap-2 border-t-4 ${
                                    activeTab === 'theory'
                                        ? 'bg-slate-50 text-blue-900 border-blue-400 shadow-inner'
                                        : 'bg-white/10 text-blue-100 border-transparent hover:bg-white/20'
                                }`}
                            >
                                <i data-lucide="book" className="w-5 h-5"></i>
                                LÝ THUYẾT
                            </button>
                            <button
                                onClick={() => setActiveTab('exercises')}
                                className={`flex-1 py-3 text-center font-bold text-sm md:text-base rounded-t-xl transition-all flex items-center justify-center gap-2 border-t-4 ${
                                    activeTab === 'exercises'
                                        ? 'bg-slate-50 text-indigo-900 border-indigo-400 shadow-inner'
                                        : 'bg-white/10 text-indigo-100 border-transparent hover:bg-white/20'
                                }`}
                            >
                                <i data-lucide="pen-tool" className="w-5 h-5"></i>
                                BÀI TẬP TỰ LUYỆN
                            </button>
                        </div>
                    </header>

                    {/* Main Content */}
                    <main className="container mx-auto px-4 py-8 max-w-5xl">
                        {activeTab === 'theory' ? (
                            <div className="animate-fade-in space-y-6">
                                <div className="bg-blue-50 border-l-4 border-blue-500 rounded-r-lg p-4 mb-6 text-blue-800 text-sm shadow-sm flex gap-3">
                                    <i data-lucide="info" className="w-6 h-6 flex-shrink-0 text-blue-600"></i>
                                    <div>
                                        
                                    </div>
                                </div>
                                {theoryData.map(item => (
                                    <TheorySection key={item.id} data={item} />
                                ))}
                            </div>
                        ) : (
                            <div className="animate-fade-in space-y-6">
                                <div className="bg-indigo-50 border-l-4 border-indigo-500 rounded-r-lg p-4 mb-6 text-indigo-800 text-sm shadow-sm flex gap-3">
                                    <i data-lucide="lightbulb" className="w-6 h-6 flex-shrink-0 text-indigo-600"></i>
                                    <div>
                                        <h3 className="font-bold mb-1">Phương pháp luyện tập:</h3>
                                        <p>Hãy chuẩn bị giấy bút và máy tính. Tự giải từng bài trước khi nhấn nút <b>"Xem đáp án chi tiết"</b>. Việc này sẽ giúp bạn nhớ lâu hơn!</p>
                                    </div>
                                </div>
                                {exerciseData.map(item => (
                                    <ExerciseCard key={item.id} data={item} />
                                ))}
                            </div>
                        )}
                    </main>

                    {/* Footer */}
                    
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
    <footer class="bg-gray-900 text-white py-8 border-t border-gray-800">
        <div class="container mx-auto px-4 flex flex-col md:flex-row justify-between items-center">
            
            <!-- KHỐI GÓC DƯỚI BÊN TRÁI: Design by Sơn Cris -->
            <div class="design-by-container mb-6 md:mb-0 text-center md:text-left">
                <p class="design-by-text text-sm text-gray-400">
                    Design by <b class="text-white font-semibold tracking-wider">Sơn Cris</b>
                </p>
                <p class="text-xs text-gray-600 mt-1">&copy; 2025 Vật Lý Đại Cương</p>
            </div>

            <!-- KHỐI GÓC DƯỚI BÊN PHẢI: 3 thông tin liên hệ theo hàng ngang -->
            <div class="contact-links-container flex flex-wrap justify-center gap-3 sm:gap-4">
                
                <!-- Phone Link (Xanh Green) -->
                <a href="tel:0327208690" title="Gọi 0327208690" class="footer-link phone-link flex items-center space-x-2 px-4 py-2 rounded-full text-sm font-medium transition duration-300 ease-in-out transform hover:scale-105 shadow-md bg-green-600 hover:bg-green-700 text-white">
                    <!-- Icon Điện thoại -->
                    <svg class="footer-icon w-4 h-4 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M164.9 24.6c-48 0-87.1 39.1-87.1 87.1v278.7c0 48 39.1 87.1 87.1 87.1h182.2c48 0 87.1-39.1 87.1-87.1V111.7c0-48-39.1-87.1-87.1-87.1H164.9zM256 464c-15.4 0-27.9-12.5-27.9-27.9s12.5-27.9 27.9-27.9 27.9 12.5 27.9 27.9-12.5 27.9-27.9 27.9zm135.2-348.8H122.9V392h268.3V115.2z"/></svg>
                    <span>0327208690</span>
                </a>
                
                <!-- Instagram Link (Hồng) -->
                <a href="https://www.instagram.com/son_cris3012/" target="_blank" title="Instagram" class="footer-link instagram-link flex items-center space-x-2 px-4 py-2 rounded-full text-sm font-medium transition duration-300 ease-in-out transform hover:scale-105 shadow-md bg-pink-600 hover:bg-pink-700 text-white">
                    <!-- Icon Instagram -->
                    <svg class="footer-icon w-4 h-4 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M224.1 12.6C99.2-22.3-22.3 99.2 12.6 224.1l11.2 11.2c19.3 19.3 46.4 30.1 74.5 30.1h145.4c28.1 0 55.2-10.8 74.5-30.1l11.2-11.2C485.6 99.2 364.1-22.3 239.1 12.6L224.1 27.7l-15 42.1c-14.4 40.3-43.7 70.8-82.6 86.6L48.2 168.1C25.3 177.1 8.5 197.6 8.5 221v82c0 23.4 16.8 43.9 39.7 52.9l84.4 32.1c38.9 15.8 68.2 46.3 82.6 86.6l15 42.1 15-42.1c14.4-40.3 43.7-70.8 82.6-86.6l84.4-32.1c22.9-9 39.7-29.5 39.7-52.9v-82c0-23.4-16.8-43.9-39.7-52.9l-84.4-32.1c-38.9-15.8-68.2-46.3-82.6-86.6l-15-42.1L224.1 27.7zM169.1 296.8c-29.4-29.4-29.4-77 0-106.4s77-29.4 106.4 0 29.4 77 0 106.4-77 29.4-106.4 0zm53.2-61.9c-15.5-15.5-15.5-40.7 0-56.2s40.7-15.5 56.2 0 15.5 40.7 0 56.2-40.7 15.5-56.2 0zm117.8 7.3c15.2-15.2 15.2-39.8 0-55s-39.8-15.2-55 0c-15.2 15.2-15.2 39.8 0 55s39.8 15.2 55 0z"/></svg>
                    <span>Instagram</span>
                </a>
                
                <!-- Facebook Link (Xanh Blue) -->
                <a href="https://web.facebook.com/sonsadboiz.12" target="_blank" title="Facebook" class="footer-link facebook-link flex items-center space-x-2 px-4 py-2 rounded-full text-sm font-medium transition duration-300 ease-in-out transform hover:scale-105 shadow-md bg-blue-600 hover:bg-blue-700 text-white">
                    <!-- Icon Facebook -->
                    <svg class="footer-icon w-4 h-4 fill-current" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M400 32H48A48 48 0 0 0 0 80v352a48 48 0 0 0 48 48h137.25V327.37h-51.2v-60.3h51.2v-44.4a76.43 76.43 0 0 1 76.4-76.4h37.7v59.7h-37.7c-25.1 0-25.1 9.2-25.1 25.4v40.7h63.2l-10.1 60.3h-53.1V480H400a48 48 0 0 0 48-48V80a48 48 0 0 0-48-48z"/></svg>
                    <span>Facebook</span>
                </a>
            </div>
        </div>
    </footer>
</body>
</html>